{"ast":null,"code":"import _objectSpread from\"C:/Users/Dell 5540/Documents/MesProjets/Dahira/rapport-dahira/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const KhassaidaForm=_ref=>{let{khassaida,onSave,onCancel}=_ref;const[formData,setFormData]=useState({nom:'',chanteur:'',type:'nouvelle',modeEvaluation:'pages',pagesTotal:25,pagesRealisees:0,dadjs:[{numero:1,evaluation:'maitrise',note:100}],commentaire:''});useEffect(()=>{if(khassaida){setFormData(khassaida);}},[khassaida]);const handleSubmit=e=>{e.preventDefault();onSave(formData);};const addDadj=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dadjs:[...prev.dadjs,{numero:prev.dadjs.length+1,evaluation:'maitrise',note:100}]}));};const removeDadj=index=>{if(formData.dadjs.length>1){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dadjs:prev.dadjs.filter((_,i)=>i!==index).map((dadj,i)=>_objectSpread(_objectSpread({},dadj),{},{numero:i+1}))}));}};const updateDadj=(index,field,value)=>{const updatedDadjs=formData.dadjs.map((dadj,i)=>i===index?_objectSpread(_objectSpread({},dadj),{},{[field]:value}):dadj);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dadjs:updatedDadjs}));};const getEvaluationColor=evaluation=>{switch(evaluation){case'maitrise':return'text-green-600';case'bon':return'text-blue-600';case'moyen':return'text-yellow-600';case'faible':return'text-red-600';default:return'text-gray-600';}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-6 border-b\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:[khassaida?'Modifier':'Ajouter',\" une Khassa\\xEFda\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-400 hover:text-gray-600 text-2xl\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nom de la Khassa\\xEFda *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.nom,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{nom:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Hamat Souleym\\xE0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Chanteur *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.chanteur,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{chanteur:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Serigne Moustapha Diop\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"nouvelle\",checked:formData.type==='nouvelle',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{type:e.target.value})),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDD95 Nouvelle\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"revision\",checked:formData.type==='revision',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{type:e.target.value})),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u267B\\uFE0F R\\xE9vision\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"Mode d'\\xE9valuation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"pages\",checked:formData.modeEvaluation==='pages',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{modeEvaluation:e.target.value})),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Par Pages\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"dadj\",checked:formData.modeEvaluation==='dadj',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{modeEvaluation:e.target.value})),className:\"mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Par Dadj (M\\xE9lodies)\"})]})]}),formData.modeEvaluation==='pages'?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pages totales\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:formData.pagesTotal,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{pagesTotal:parseInt(e.target.value)})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pages r\\xE9alis\\xE9es\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:formData.pagesTotal,value:formData.pagesRealisees,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{pagesRealisees:parseInt(e.target.value)})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"\\xC9valuation des Dadj\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addDadj,className:\"px-3 py-1 bg-primary hover:bg-green-700 text-white text-sm rounded-md\",children:\"+ Ajouter Dadj\"})]}),formData.dadjs.map((dadj,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium w-20\",children:[dadj.numero,\"\\xE8me Dadj\"]}),/*#__PURE__*/_jsxs(\"select\",{value:dadj.evaluation,onChange:e=>updateDadj(index,'evaluation',e.target.value),className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"maitrise\",children:\"\\u2705 Ma\\xEEtris\\xE9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bon\",children:\"\\uD83D\\uDFE2 Bon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moyen\",children:\"\\uD83D\\uDFE1 Moyen\"}),/*#__PURE__*/_jsx(\"option\",{value:\"faible\",children:\"\\uD83D\\uDD34 Faible\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:dadj.note,onChange:e=>updateDadj(index,'note',parseInt(e.target.value)),className:\"w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Note\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium \".concat(getEvaluationColor(dadj.evaluation)),children:[dadj.note,\"%\"]}),formData.dadjs.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeDadj(index),className:\"p-1 text-red-600 hover:text-red-800\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Commentaire\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.commentaire,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{commentaire:e.target.value})),rows:\"3\",className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",placeholder:\"Commentaire sur cette khassa\\xEFda...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4 border-t\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-primary hover:bg-green-700 text-white rounded-md transition-colors\",children:khassaida?'Modifier':'Ajouter'})]})]})]})});};export default KhassaidaForm;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}