{"ast":null,"code":"// import html2pdf from 'html2pdf.js';\n// export const exportToPDF = (rapport) => {\n//   // G√©n√©rer le HTML du template bas√© sur votre code original\n//   const htmlContent = generateHTMLTemplate(rapport);\n//   // Cr√©er un √©l√©ment temporaire\n//   const element = document.createElement('div');\n//   element.innerHTML = htmlContent;\n//   // Options pour le PDF\n//   const opt = {\n//     margin: 10,\n//     filename: `rapport-${rapport.periode.mois || 'export'}.pdf`,\n//     image: { type: 'jpeg', quality: 0.98 },\n//     html2canvas: { scale: 2 },\n//     jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\n//   };\n//   // G√©n√©rer le PDF\n//   html2pdf().set(opt).from(element).save();\n// };\n// const generateHTMLTemplate = (rapport) => {\n//   // Ici vous mettez votre template HTML/CSS complet\n//   // C'est une version adapt√©e de votre code original\n//   return `\n//     <!DOCTYPE html>\n//     <html>\n//     <head>\n//         <style>\n//             /* Votre CSS complet ici */\n//             ${getCSSTemplate()}\n//         </style>\n//     </head>\n//     <body>\n//         <div class=\"container\">\n//             <!-- En-t√™te -->\n//             <div class=\"header\">\n//                 <div class=\"logo\">${rapport.logo}</div>\n//                 <div class=\"org-name\">${rapport.dahira}</div>\n//                 <h1 class=\"main-title\">RAPPORT DE R√âP√âTITION MENSUEL</h1>\n//                 <p class=\"subtitle\">${getPeriodeDisplay(rapport.periode)} ‚Ä¢ ${rapport.kourel}</p>\n//             </div>\n//             <!-- Informations -->\n//             <div class=\"info-section\">\n//                 <div class=\"info-grid\">\n//                     <div class=\"info-card\">\n//                         <div class=\"info-label\">Kourel</div>\n//                         <div class=\"info-value\">${rapport.kourel}</div>\n//                     </div>\n//                     <div class=\"info-card\">\n//                         <div class=\"info-label\">P√©riode</div>\n//                         <div class=\"info-value\">${getPeriodeDisplay(rapport.periode)}</div>\n//                     </div>\n//                     <div class=\"info-card\">\n//                         <div class=\"info-label\">Responsable</div>\n//                         <div class=\"info-value\">${rapport.responsable.nom}</div>\n//                     </div>\n//                 </div>\n//             </div>\n//             <!-- Statistiques -->\n//             <div class=\"stats-section\">\n//                 <div class=\"stats-grid\">\n//                     ${generateStats(rapport)}\n//                 </div>\n//             </div>\n//             <!-- Tableau des Khassa√Ødas -->\n//             <div class=\"table-section\">\n//                 <h2 class=\"section-title\">üìä D√©tail des Khassa√Ødas</h2>\n//                 <table>\n//                     <thead>\n//                         <tr>\n//                             <th>N¬∞</th>\n//                             <th>Khassa√Øda / M√©lodie</th>\n//                             <th>Type</th>\n//                             <th>Progression</th>\n//                             <th>%</th>\n//                         </tr>\n//                     </thead>\n//                     <tbody>\n//                         ${generateKhassaidasTable(rapport.khassaidas)}\n//                     </tbody>\n//                 </table>\n//             </div>\n//             <!-- Appr√©ciation -->\n//             <div class=\"appreciation-section\">\n//                 <h2 class=\"section-title\">üí¨ Appr√©ciation G√©n√©rale</h2>\n//                 <div class=\"appreciation-box\">\n//                     ${generateAppreciation(rapport)}\n//                 </div>\n//             </div>\n//             <!-- Programme -->\n//             <div class=\"program-section\">\n//                 <h2 class=\"section-title\">üìÖ Programme du Mois Prochain</h2>\n//                 <div class=\"program-box\">\n//                     <ul class=\"program-list\">\n//                         ${rapport.programme.map(item => `<li>${item}</li>`).join('')}\n//                     </ul>\n//                 </div>\n//             </div>\n//             <!-- Footer -->\n//             <div class=\"footer\">\n//                 <div class=\"footer-content\">\n//                     <div>\n//                         <div class=\"responsible-name\">${rapport.responsable.nom}</div>\n//                         <div class=\"responsible-title\">${rapport.responsable.titre}</div>\n//                     </div>\n//                     <div class=\"org-footer\">\n//                         ${rapport.dahira}<br>\n//                         Rapport officiel ‚Ä¢ ${getPeriodeDisplay(rapport.periode)}\n//                     </div>\n//                 </div>\n//             </div>\n//         </div>\n//     </body>\n//     </html>\n//   `;\n// };\n// // Fonctions utilitaires pour g√©n√©rer le contenu dynamique\n// const getPeriodeDisplay = (periode) => {\n//   if (periode.type === 'mois') {\n//     return periode.mois;\n//   } else {\n//     return `${formatDate(periode.debut)} - ${formatDate(periode.fin)}`;\n//   }\n// };\n// const formatDate = (dateString) => {\n//   if (!dateString) return '';\n//   const date = new Date(dateString);\n//   return date.toLocaleDateString('fr-FR');\n// };\n// const generateStats = (rapport) => {\n//   const total = rapport.khassaidas.length;\n//   const nouvelles = rapport.khassaidas.filter(k => k.type === 'nouvelle').length;\n//   const revisions = rapport.khassaidas.filter(k => k.type === 'revision').length;\n//   const evolution = calculateEvolutionMoyenne(rapport.khassaidas);\n//   return `\n//     <div class=\"stat-card\">\n//         <div class=\"stat-icon\">üéµ</div>\n//         <div class=\"stat-label\">Total Khassa√Ødas</div>\n//         <div class=\"stat-value\">${total}</div>\n//     </div>\n//     <div class=\"stat-card\">\n//         <div class=\"stat-icon\">üÜï</div>\n//         <div class=\"stat-label\">Nouvelles Khassa√Ødas</div>\n//         <div class=\"stat-value\">${nouvelles}</div>\n//     </div>\n//     <div class=\"stat-card\">\n//         <div class=\"stat-icon\">‚ôªÔ∏è</div>\n//         <div class=\"stat-label\">R√©visions Khassa√Ødas</div>\n//         <div class=\"stat-value\">${revisions}</div>\n//     </div>\n//     <div class=\"stat-card\">\n//         <div class=\"stat-icon\">üìä</div>\n//         <div class=\"stat-label\">√âvolution Globale</div>\n//         <div class=\"stat-value\">${evolution}%</div>\n//     </div>\n//   `;\n// };\n// const calculateEvolutionMoyenne = (khassaidas) => {\n//   const pourcentages = khassaidas.map(k => {\n//     if (k.modeEvaluation === 'pages') {\n//       return Math.round((k.pagesRealisees / k.pagesTotal) * 100);\n//     } else {\n//       const moyenne = k.dadjs.reduce((sum, d) => sum + d.note, 0) / k.dadjs.length;\n//       return Math.round(moyenne);\n//     }\n//   });\n//   const moyenneGlobale = pourcentages.reduce((sum, p) => sum + p, 0) / pourcentages.length;\n//   return Math.round(moyenneGlobale);\n// };\n// const generateKhassaidasTable = (khassaidas) => {\n//   return khassaidas.map((khassaida, index) => {\n//     const progression = calculateProgression(khassaida);\n//     return `\n//       <tr>\n//         <td><strong>${index + 1}</strong></td>\n//         <td>\n//             <div class=\"khassaida-name\">${khassaida.nom}</div>\n//             <div class=\"melodie-name\">${khassaida.chanteur}</div>\n//         </td>\n//         <td>\n//             <span class=\"type-badge ${khassaida.type === 'nouvelle' ? 'type-new' : 'type-revision'}\">\n//                 ${khassaida.type === 'nouvelle' ? 'üÜï Nouvelle' : '‚ôªÔ∏è R√©vision'}\n//             </span>\n//         </td>\n//         <td>\n//             ${generateProgressionContent(khassaida, progression)}\n//         </td>\n//         <td>\n//             <span class=\"percentage ${getPercentageClass(progression.pourcentage)}\">\n//                 ${progression.pourcentage}%\n//             </span>\n//         </td>\n//       </tr>\n//     `;\n//   }).join('');\n// };\n// const calculateProgression = (khassaida) => {\n//   if (khassaida.modeEvaluation === 'pages') {\n//     const pourcentage = Math.round((khassaida.pagesRealisees / khassaida.pagesTotal) * 100);\n//     return {\n//       type: 'pages',\n//       pourcentage,\n//       texte: `${khassaida.pagesRealisees} / ${khassaida.pagesTotal} pages`\n//     };\n//   } else {\n//     const pourcentage = Math.round(khassaida.dadjs.reduce((sum, d) => sum + d.note, 0) / khassaida.dadjs.length);\n//     return {\n//       type: 'dadj',\n//       pourcentage,\n//       dadjs: khassaida.dadjs\n//     };\n//   }\n// };\n// const generateProgressionContent = (khassaida, progression) => {\n//   if (progression.type === 'pages') {\n//     const width = progression.pourcentage + '%';\n//     const progressClass = getProgressBarClass(progression.pourcentage);\n//     return `\n//       <div class=\"progress-info\">${progression.texte}</div>\n//       <div class=\"progress-bar-container\">\n//         <div class=\"progress-bar ${progressClass}\" style=\"width: ${width};\"></div>\n//       </div>\n//     `;\n//   } else {\n//     const dadjIcons = progression.dadjs.map(dadj => {\n//       const icon = getDadjIcon(dadj.evaluation);\n//       return `<div class=\"dadj-item\">${dadj.numero}√®me Dadj ${icon}</div>`;\n//     }).join('');\n//     return `\n//       <div class=\"dadj-list\">\n//         ${dadjIcons}\n//         <div style=\"margin-top: 5px; font-weight: 600;\">Moyenne : ${progression.pourcentage}%</div>\n//       </div>\n//     `;\n//   }\n// };\n// const getDadjIcon = (evaluation) => {\n//   switch (evaluation) {\n//     case 'maitrise': return '‚úÖ';\n//     case 'bon': return 'üü¢';\n//     case 'moyen': return 'üü°';\n//     case 'faible': return 'üî¥';\n//     default: return '‚ö™';\n//   }\n// };\n// const getProgressBarClass = (pourcentage) => {\n//   if (pourcentage >= 80) return 'progress-high';\n//   if (pourcentage >= 50) return 'progress-medium';\n//   return 'progress-low';\n// };\n// const getPercentageClass = (pourcentage) => {\n//   if (pourcentage >= 80) return 'perc-high';\n//   if (pourcentage >= 50) return 'perc-medium';\n//   return 'perc-low';\n// };\n// const generateAppreciation = (rapport) => {\n//   return `\n//     <p>${rapport.appreciationGenerale}</p>\n//     <h3>üìù Commentaires par Khassa√Øda</h3>\n//     ${rapport.khassaidas.map((khassaida, index) => {\n//       const progression = calculateProgression(khassaida);\n//       const icon = getAppreciationIcon(progression.pourcentage);\n//       return `\n//         <div class=\"khassaida-comment\">\n//           <h4>${index + 1}Ô∏è‚É£ ${khassaida.nom} (${khassaida.chanteur}) - ${progression.pourcentage}% ${icon}</h4>\n//           <p>${khassaida.commentaire}</p>\n//         </div>\n//       `;\n//     }).join('')}\n//   `;\n// };\n// const getAppreciationIcon = (pourcentage) => {\n//   if (pourcentage >= 80) return '‚úÖ';\n//   if (pourcentage >= 50) return 'üü°';\n//   return 'üî¥';\n// };\n// const getCSSTemplate = () => {\n//   // Retourne votre CSS complet du template original\n//   return `\n//     * {\n//         margin: 0;\n//         padding: 0;\n//         box-sizing: border-box;\n//     }\n//     body {\n//         font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n//         background: #f5f5f5;\n//         padding: 20px;\n//     }\n//     .container {\n//         max-width: 1200px;\n//         margin: 0 auto;\n//         background: white;\n//         box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n//     }\n//     /* ... Votre CSS complet ... */\n//   `;\n// };\nimport html2pdf from'html2pdf.js';export const exportToPDF=rapport=>{// G√©n√©rer le HTML du template avec les styles INLINE\nconst htmlContent=generateHTMLTemplate(rapport);// Cr√©er un √©l√©ment temporaire\nconst element=document.createElement('div');element.innerHTML=htmlContent;// Options pour le PDF\nconst opt={margin:10,filename:\"rapport-\".concat(rapport.periode.mois||'export',\".pdf\"),image:{type:'jpeg',quality:0.98},html2canvas:{scale:2,useCORS:true,allowTaint:true,logging:false},jsPDF:{unit:'mm',format:'a4',orientation:'portrait'}};// G√©n√©rer le PDF\nhtml2pdf().set(opt).from(element).save();};const generateHTMLTemplate=rapport=>{const sectionsConfig=rapport.sectionsConfig||{};return\"\\n    <!DOCTYPE html>\\n    <html>\\n    <head>\\n        <meta charset=\\\"UTF-8\\\">\\n        <style>\\n            \".concat(getCSSTemplate(rapport.couleurs),\"\\n        </style>\\n    </head>\\n    <body>\\n        <div class=\\\"container\\\">\\n            <!-- En-t\\xEAte -->\\n            <div class=\\\"header\\\">\\n                \").concat(generateLogo(rapport),\"\\n                <div class=\\\"org-name\\\">\").concat(rapport.dahira,\"</div>\\n                <h1 class=\\\"main-title\\\">RAPPORT DE R\\xC9P\\xC9TITION MENSUEL</h1>\\n                <p class=\\\"subtitle\\\">\").concat(getPeriodeDisplay(rapport.periode),\" \\u2022 \").concat(rapport.kourel,\"</p>\\n            </div>\\n\\n            \").concat(sectionsConfig.informations!==false?\"\\n            <!-- Informations -->\\n            <div class=\\\"info-section\\\">\\n                <div class=\\\"info-grid\\\">\\n                    <div class=\\\"info-card\\\">\\n                        <div class=\\\"info-label\\\">Kourel</div>\\n                        <div class=\\\"info-value\\\">\".concat(rapport.kourel,\"</div>\\n                    </div>\\n                    <div class=\\\"info-card\\\">\\n                        <div class=\\\"info-label\\\">P\\xE9riode</div>\\n                        <div class=\\\"info-value\\\">\").concat(getPeriodeDisplay(rapport.periode),\"</div>\\n                    </div>\\n                    <div class=\\\"info-card\\\">\\n                        <div class=\\\"info-label\\\">Responsable</div>\\n                        <div class=\\\"info-value\\\">\").concat(rapport.responsable.nom,\"</div>\\n                    </div>\\n                </div>\\n            </div>\\n            \"):'',\"\\n\\n            \").concat(sectionsConfig.statistiques!==false?\"\\n            <!-- Statistiques -->\\n            <div class=\\\"stats-section\\\">\\n                <div class=\\\"stats-grid\\\">\\n                    \".concat(generateStats(rapport),\"\\n                </div>\\n            </div>\\n            \"):'',\"\\n\\n            \").concat(sectionsConfig.tableau!==false?\"\\n            <!-- Tableau des Khassa\\xEFdas -->\\n            <div class=\\\"table-section\\\">\\n                <h2 class=\\\"section-title\\\">\\uD83D\\uDCCA D\\xE9tail des Khassa\\xEFdas</h2>\\n                <table>\\n                    <thead>\\n                        <tr>\\n                            <th>N\\xB0</th>\\n                            <th>Khassa\\xEFda / M\\xE9lodie</th>\\n                            <th>Type</th>\\n                            <th>Progression</th>\\n                            <th>%</th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        \".concat(generateKhassaidasTable(rapport.khassaidas),\"\\n                    </tbody>\\n                </table>\\n            </div>\\n            \"):'',\"\\n\\n            \").concat(sectionsConfig.appreciation!==false?\"\\n            <!-- Appr\\xE9ciation -->\\n            <div class=\\\"appreciation-section\\\">\\n                <h2 class=\\\"section-title\\\">\\uD83D\\uDCAC Appr\\xE9ciation G\\xE9n\\xE9rale</h2>\\n                <div class=\\\"appreciation-box\\\">\\n                    \".concat(generateAppreciation(rapport),\"\\n                </div>\\n            </div>\\n            \"):'',\"\\n\\n            \").concat(sectionsConfig.programme!==false?\"\\n            <!-- Programme -->\\n            <div class=\\\"program-section\\\">\\n                <h2 class=\\\"section-title\\\">\\uD83D\\uDCC5 Programme du Mois Prochain</h2>\\n                <div class=\\\"program-box\\\">\\n                    <ul class=\\\"program-list\\\">\\n                        \".concat(generateProgramme(rapport),\"\\n                    </ul>\\n                </div>\\n            </div>\\n            \"):'',\"\\n        </div>\\n    </body>\\n    </html>\\n  \");};const getPeriodeDisplay=periode=>{if(periode.type==='mois'){return periode.mois;}else{return\"\".concat(formatDate(periode.debut),\" - \").concat(formatDate(periode.fin));}};const formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('fr-FR');};const generateLogo=rapport=>{return\"<div style=\\\"width: 70px; height: 70px; background: white; border-radius: 50%; display: table; margin: 0 auto 20px auto;\\\">\\n    <span style=\\\"display: table-cell; vertical-align: middle; text-align: center; font-size: 20px; font-weight: bold; color: \".concat(getCouleurPrimaire(rapport),\";\\\">\\n      \").concat(rapport.logo||'DMN',\"\\n    </span>\\n  </div>\");};const getCouleurPrimaire=rapport=>{var _rapport$couleurs;return((_rapport$couleurs=rapport.couleurs)===null||_rapport$couleurs===void 0?void 0:_rapport$couleurs.primaire)||'#006633';};const generateStats=rapport=>{const total=rapport.khassaidas.length;const nouvelles=rapport.khassaidas.filter(k=>k.type==='nouvelle').length;const revisions=rapport.khassaidas.filter(k=>k.type==='revision').length;const evolution=calculateEvolutionMoyenne(rapport.khassaidas);return\"\\n    <div class=\\\"stat-card\\\">\\n        <div class=\\\"stat-icon\\\">\\uD83C\\uDFB5</div>\\n        <div class=\\\"stat-label\\\">Total Khassa\\xEFdas</div>\\n        <div class=\\\"stat-value\\\">\".concat(total,\"</div>\\n    </div>\\n    <div class=\\\"stat-card\\\">\\n        <div class=\\\"stat-icon\\\">\\uD83C\\uDD95</div>\\n        <div class=\\\"stat-label\\\">Nouvelles Khassa\\xEFdas</div>\\n        <div class=\\\"stat-value\\\">\").concat(nouvelles,\"</div>\\n    </div>\\n    <div class=\\\"stat-card\\\">\\n        <div class=\\\"stat-icon\\\">\\u267B\\uFE0F</div>\\n        <div class=\\\"stat-label\\\">R\\xE9visions Khassa\\xEFdas</div>\\n        <div class=\\\"stat-value\\\">\").concat(revisions,\"</div>\\n    </div>\\n    <div class=\\\"stat-card\\\">\\n        <div class=\\\"stat-icon\\\">\\uD83D\\uDCCA</div>\\n        <div class=\\\"stat-label\\\">\\xC9volution Globale</div>\\n        <div class=\\\"stat-value\\\">\").concat(evolution,\"%</div>\\n    </div>\\n  \");};const calculateEvolutionMoyenne=khassaidas=>{const pourcentages=khassaidas.map(k=>{if(k.modeEvaluation==='pages'){return Math.round(k.pagesRealisees/k.pagesTotal*100);}else{const moyenne=k.dadjs.reduce((sum,d)=>sum+d.note,0)/k.dadjs.length;return Math.round(moyenne);}});const moyenneGlobale=pourcentages.reduce((sum,p)=>sum+p,0)/pourcentages.length;return Math.round(moyenneGlobale);};const generateKhassaidasTable=khassaidas=>{return khassaidas.map((khassaida,index)=>{const progression=calculateProgression(khassaida);return\"\\n      <tr>\\n        <td><strong>\".concat(index+1,\"</strong></td>\\n        <td>\\n            <div class=\\\"khassaida-name\\\">\").concat(khassaida.nom,\"</div>\\n            <div class=\\\"melodie-name\\\">\").concat(khassaida.chanteur,\"</div>\\n        </td>\\n        <td>\\n            <span class=\\\"type-badge \").concat(khassaida.type==='nouvelle'?'type-new':'type-revision',\"\\\">\\n                \").concat(khassaida.type==='nouvelle'?'üÜï Nouvelle':'‚ôªÔ∏è R√©vision',\"\\n            </span>\\n        </td>\\n        <td>\\n            \").concat(generateProgressionContent(khassaida,progression),\"\\n        </td>\\n        <td>\\n            <span class=\\\"percentage \").concat(getPercentageClass(progression.pourcentage),\"\\\">\\n                \").concat(progression.pourcentage,\"%\\n            </span>\\n        </td>\\n      </tr>\\n    \");}).join('');};const calculateProgression=khassaida=>{if(khassaida.modeEvaluation==='pages'){const pourcentage=Math.round(khassaida.pagesRealisees/khassaida.pagesTotal*100);return{type:'pages',pourcentage,texte:\"\".concat(khassaida.pagesRealisees,\" / \").concat(khassaida.pagesTotal,\" pages\"),termine:pourcentage===100};}else{const pourcentage=Math.round(khassaida.dadjs.reduce((sum,d)=>sum+d.note,0)/khassaida.dadjs.length);return{type:'dadj',pourcentage,dadjs:khassaida.dadjs};}};const generateProgressionContent=(khassaida,progression)=>{if(progression.type==='pages'){if(progression.termine){return\"<div class=\\\"progress-info\\\">\\u2705 Termin\\xE9</div>\";}else{const width=progression.pourcentage+'%';const progressClass=getProgressBarClass(progression.pourcentage);return\"\\n        <div class=\\\"progress-info\\\">\".concat(progression.texte,\"</div>\\n        <div class=\\\"progress-bar-container\\\">\\n          <div class=\\\"progress-bar \").concat(progressClass,\"\\\" style=\\\"width: \").concat(width,\";\\\"></div>\\n        </div>\\n      \");}}else{const dadjIcons=progression.dadjs.map(dadj=>{const icon=getDadjIcon(dadj.evaluation);return\"<div class=\\\"dadj-item\\\">\".concat(dadj.numero,\"\\xE8me Dadj \").concat(icon,\"</div>\");}).join('');return\"\\n      <div class=\\\"dadj-list\\\">\\n        \".concat(dadjIcons,\"\\n        <div style=\\\"margin-top: 5px; font-weight: 600;\\\">Moyenne : \").concat(progression.pourcentage,\"%</div>\\n      </div>\\n    \");}};const getDadjIcon=evaluation=>{switch(evaluation){case'maitrise':return'‚úÖ';case'bon':return'üü¢';case'moyen':return'üü°';case'faible':return'üî¥';default:return'‚ö™';}};const getProgressBarClass=pourcentage=>{if(pourcentage>=80)return'progress-high';if(pourcentage>=50)return'progress-medium';return'progress-low';};const getPercentageClass=pourcentage=>{if(pourcentage>=80)return'perc-high';if(pourcentage>=50)return'perc-medium';return'perc-low';};const generateAppreciation=rapport=>{let html=\"<p>\".concat(rapport.appreciationGenerale,\"</p>\");// Utiliser les nouveaux commentaires s'ils existent\nif(rapport.commentairesKhassaidas&&rapport.commentairesKhassaidas.length>0){html+=\"<h3>\\uD83D\\uDCDD Commentaires par Khassa\\xEFda</h3>\";html+=rapport.commentairesKhassaidas.map(comment=>{const khassaida=rapport.khassaidas[parseInt(comment.khassaidaId)-1];if(!khassaida)return'';const progression=calculateProgression(khassaida);const icon=getAppreciationIcon(progression.pourcentage);return\"\\n        <div class=\\\"khassaida-comment\\\">\\n          <h4>\".concat(comment.khassaidaId,\"\\uFE0F\\u20E3 \").concat(khassaida.nom,\" (\").concat(khassaida.chanteur,\") - \").concat(progression.pourcentage,\"% \").concat(icon,\"</h4>\\n          <p>\").concat(comment.commentaire,\"</p>\\n        </div>\\n      \");}).join('');}return html;};const getAppreciationIcon=pourcentage=>{if(pourcentage>=80)return'‚úÖ';if(pourcentage>=50)return'üü°';return'üî¥';};const generateProgramme=rapport=>{// Utiliser les nouveaux programmeItems s'ils existent\nif(rapport.programmeItems&&rapport.programmeItems.length>0){return rapport.programmeItems.map(item=>\"<li>\".concat(item.texte,\"</li>\")).join('');}// Fallback vers l'ancien syst√®me programme\nif(rapport.programme&&rapport.programme.length>0){return rapport.programme.map(item=>\"<li>\".concat(item,\"</li>\")).join('');}return'<li>Aucun programme d√©fini</li>';};const getCSSTemplate=function(){let couleurs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{primaire:'#006633',secondaire:'#004d26'};return\"\\n    * {\\n        margin: 0;\\n        padding: 0;\\n        box-sizing: border-box;\\n    }\\n\\n    body {\\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n        background: #f5f5f5;\\n        padding: 20px;\\n        color: #333;\\n    }\\n\\n    .container {\\n        max-width: 1200px;\\n        margin: 0 auto;\\n        background: white;\\n        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\\n    }\\n\\n    /* En-t\\xEAte */\\n    .header {\\n        background: linear-gradient(135deg, \".concat(couleurs.primaire,\" 0%, \").concat(couleurs.secondaire,\" 100%);\\n        color: white;\\n        padding: 40px;\\n        text-align: center;\\n    }\\n\\n    .logo {\\n        width: 70px;\\n        height: 70px;\\n        background: white;\\n        border-radius: 50%;\\n        font-size: 20px;\\n        font-weight: bold;\\n        color: \").concat(couleurs.primaire,\";\\n        margin-bottom: 20px;\\n        display: table;\\n        margin-left: auto;\\n        margin-right: auto;\\n    }\\n\\n    .org-name {\\n        font-size: 13px;\\n        letter-spacing: 2px;\\n        margin-bottom: 20px;\\n        opacity: 0.9;\\n        text-transform: uppercase;\\n    }\\n\\n    .main-title {\\n        font-size: 36px;\\n        font-weight: 700;\\n        margin-bottom: 10px;\\n    }\\n\\n    .subtitle {\\n        font-size: 20px;\\n        opacity: 0.9;\\n    }\\n\\n    /* Informations */\\n    .info-section {\\n        padding: 30px 40px;\\n        background: #f8f9fa;\\n        border-bottom: 3px solid \").concat(couleurs.primaire,\";\\n    }\\n\\n    .info-grid {\\n        display: grid;\\n        grid-template-columns: repeat(3, 1fr);\\n        gap: 20px;\\n    }\\n\\n    .info-card {\\n        background: white;\\n        padding: 20px;\\n        border-radius: 8px;\\n        border-left: 4px solid \").concat(couleurs.primaire,\";\\n    }\\n\\n    .info-label {\\n        font-size: 12px;\\n        color: #6c757d;\\n        text-transform: uppercase;\\n        margin-bottom: 5px;\\n    }\\n\\n    .info-value {\\n        font-size: 18px;\\n        color: #212529;\\n        font-weight: 600;\\n    }\\n\\n    /* Statistiques */\\n    .stats-section {\\n        padding: 40px;\\n    }\\n\\n    .stats-grid {\\n        display: grid;\\n        grid-template-columns: repeat(4, 1fr);\\n        gap: 20px;\\n        margin-bottom: 30px;\\n    }\\n\\n    .stat-card {\\n        background: #f8f9fa;\\n        padding: 25px;\\n        border-radius: 10px;\\n        text-align: center;\\n        border-top: 4px solid \").concat(couleurs.primaire,\";\\n    }\\n\\n    .stat-icon {\\n        font-size: 28px;\\n        margin-bottom: 10px;\\n    }\\n\\n    .stat-label {\\n        font-size: 12px;\\n        color: #6c757d;\\n        text-transform: uppercase;\\n        margin-bottom: 8px;\\n    }\\n\\n    .stat-value {\\n        font-size: 32px;\\n        font-weight: 700;\\n        color: \").concat(couleurs.primaire,\";\\n    }\\n\\n    /* Tableau */\\n    .table-section {\\n        padding: 0 40px 40px;\\n    }\\n\\n    .section-title {\\n        font-size: 22px;\\n        color: #212529;\\n        margin-bottom: 20px;\\n        padding-bottom: 10px;\\n        border-bottom: 3px solid \").concat(couleurs.primaire,\";\\n        font-weight: 600;\\n    }\\n\\n    table {\\n        width: 100%;\\n        border-collapse: collapse;\\n        background: white;\\n        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n        border-radius: 8px;\\n        overflow: hidden;\\n    }\\n\\n    thead {\\n        background: \").concat(couleurs.primaire,\";\\n        color: white;\\n    }\\n\\n    th {\\n        padding: 15px;\\n        text-align: left;\\n        font-weight: 600;\\n        font-size: 13px;\\n        text-transform: uppercase;\\n    }\\n\\n    td {\\n        padding: 15px;\\n        border-bottom: 1px solid #e9ecef;\\n    }\\n\\n    tbody tr:nth-child(even) {\\n        background: #f8f9fa;\\n    }\\n\\n    tbody tr:hover {\\n        background: #e9ecef;\\n    }\\n\\n    .khassaida-name {\\n        font-weight: 600;\\n        color: #212529;\\n        font-size: 15px;\\n    }\\n\\n    .melodie-name {\\n        font-size: 13px;\\n        color: #6c757d;\\n        font-style: italic;\\n        margin-top: 3px;\\n    }\\n\\n    .type-badge {\\n        display: inline-block;\\n        padding: 4px 10px;\\n        border-radius: 12px;\\n        font-size: 11px;\\n        font-weight: 600;\\n    }\\n\\n    .type-new {\\n        background: #d1ecf1;\\n        color: #0c5460;\\n        border: 1px solid #bee5eb;\\n    }\\n\\n    .type-revision {\\n        background: #fff3cd;\\n        color: #856404;\\n        border: 1px solid #ffeaa7;\\n    }\\n\\n    /* Progression */\\n    .progress-info {\\n        font-size: 14px;\\n        color: #495057;\\n        margin-bottom: 8px;\\n    }\\n\\n    .progress-bar-container {\\n        width: 100%;\\n        height: 8px;\\n        background: #e9ecef;\\n        border-radius: 10px;\\n        overflow: hidden;\\n    }\\n\\n    .progress-bar {\\n        height: 100%;\\n        border-radius: 10px;\\n    }\\n\\n    .progress-high {\\n        background: #28a745;\\n    }\\n\\n    .progress-medium {\\n        background: #ffc107;\\n    }\\n\\n    .progress-low {\\n        background: #dc3545;\\n    }\\n\\n    .dadj-list {\\n        font-size: 13px;\\n        line-height: 1.8;\\n    }\\n\\n    .dadj-item {\\n        display: inline-block;\\n        margin-right: 8px;\\n    }\\n\\n    .percentage {\\n        font-weight: 700;\\n        font-size: 16px;\\n    }\\n\\n    .perc-high { color: #28a745; }\\n    .perc-medium { color: #ffc107; }\\n    .perc-low { color: #dc3545; }\\n\\n    /* Appr\\xE9ciation */\\n    .appreciation-section {\\n        padding: 0 40px 40px;\\n    }\\n\\n    .appreciation-box {\\n        background: #f8f9fa;\\n        padding: 30px;\\n        border-radius: 10px;\\n        border-left: 5px solid \").concat(couleurs.primaire,\";\\n        line-height: 1.8;\\n    }\\n\\n    .appreciation-box h3 {\\n        color: \").concat(couleurs.primaire,\";\\n        margin-bottom: 20px;\\n        font-size: 18px;\\n    }\\n\\n    .appreciation-box p {\\n        margin-bottom: 15px;\\n        color: #495057;\\n    }\\n\\n    .khassaida-comment {\\n        background: white;\\n        padding: 15px;\\n        margin-bottom: 15px;\\n        border-radius: 8px;\\n        border-left: 3px solid \").concat(couleurs.primaire,\";\\n    }\\n\\n    .khassaida-comment h4 {\\n        color: #212529;\\n        margin-bottom: 8px;\\n        font-size: 15px;\\n    }\\n\\n    .khassaida-comment p {\\n        font-size: 14px;\\n        margin: 0;\\n    }\\n\\n    .conclusion-list {\\n        list-style: none;\\n        padding: 0;\\n    }\\n\\n    .conclusion-list li {\\n        padding: 8px 0;\\n        padding-left: 25px;\\n        position: relative;\\n    }\\n\\n    .conclusion-list li::before {\\n        content: '\\u25CF';\\n        position: absolute;\\n        left: 5px;\\n        color: \").concat(couleurs.primaire,\";\\n    }\\n\\n    /* Programme */\\n    .program-section {\\n        padding: 0 40px 40px;\\n    }\\n\\n    .program-box {\\n        background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);\\n        padding: 30px;\\n        border-radius: 10px;\\n    }\\n\\n    .program-box h3 {\\n        color: \").concat(couleurs.primaire,\";\\n        margin-bottom: 20px;\\n        font-size: 18px;\\n    }\\n\\n    .program-list {\\n        list-style: none;\\n        padding: 0;\\n    }\\n\\n    .program-list li {\\n        padding: 10px 0;\\n        padding-left: 30px;\\n        position: relative;\\n        color: #2d5016;\\n    }\\n\\n    .program-list li::before {\\n        content: '\\uD83D\\uDCCC';\\n        position: absolute;\\n        left: 0;\\n    }\\n\\n    /* Footer */\\n    .footer {\\n        background: #212529;\\n        color: white;\\n        padding: 30px 40px;\\n        text-align: center;\\n    }\\n\\n    .footer-content {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n    }\\n\\n    .responsible-name {\\n        font-size: 16px;\\n        font-weight: 600;\\n    }\\n\\n    .responsible-title {\\n        font-size: 12px;\\n        opacity: 0.8;\\n        text-transform: uppercase;\\n    }\\n\\n    .org-footer {\\n        text-align: right;\\n        opacity: 0.7;\\n        font-size: 13px;\\n    }\\n\\n    @media print {\\n        body {\\n            background: white;\\n            padding: 0;\\n        }\\n        .container {\\n            box-shadow: none;\\n        }\\n    }\\n  \");};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}